---
import BaseLayout from '../layouts/BaseLayout.astro'
import Header from '../components/Header.astro'
import Catchphrase from '../components/Catchphrase.astro'
import TagWrapper from '../components/TagWrapper.astro'
import ProfileWrapper from '../components/ProfileWrapper.astro'
const pageTitle = "HandyHacks"

import Pagination from '../components/Pagination.astro'
import { getWebContents } from '../library/microcms'
const page = await getWebContents({ fields: ["id", "features", "shortdescription", "url"], limit: 4 });

const lastPage = Math.ceil(page.totalCount / 4);
const urlNext = lastPage > 1 ? '/page/2' : undefined;
---
<BaseLayout pageTitle={pageTitle}>
	<Header />
	<Catchphrase />
	<TagWrapper />
	<Pagination
		data={page.contents}
		currentPage={1}
		lastPage={lastPage}
		urlPrev={undefined}
		urlNext={urlNext}
	/>
	<ProfileWrapper />
</BaseLayout>
